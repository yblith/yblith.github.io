(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3505:(e,t,s)=>{Promise.resolve().then(s.bind(s,6139))},6139:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var l=s(5155),a=s(2115);let r={calories:2e3,protein:150};var n=s(6976);function i(e){let{mealType:t,onAddItem:s}=e,[r,n]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)("");return(0,l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!r.trim()||!i||!c)return void alert("Please fill in all fields.");s(t,{name:r.trim(),calories:parseInt(i,10),protein:parseInt(c,10)}),n(""),o(""),d("")},className:"mb-4 p-4 border rounded-lg",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold mb-2 capitalize",children:["Add to ",t]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"".concat(t,"-itemName"),className:"block text-sm font-medium text-gray-700",children:"Item Name"}),(0,l.jsx)("input",{type:"text",id:"".concat(t,"-itemName"),value:r,onChange:e=>n(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-black",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"".concat(t,"-calories"),className:"block text-sm font-medium text-gray-700",children:"Calories"}),(0,l.jsx)("input",{type:"number",id:"".concat(t,"-calories"),value:i,onChange:e=>o(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-black",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"".concat(t,"-protein"),className:"block text-sm font-medium text-gray-700",children:"Protein (g)"}),(0,l.jsx)("input",{type:"number",id:"".concat(t,"-protein"),value:c,onChange:e=>d(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-black",required:!0})]})]}),(0,l.jsx)("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Add Item"})]})}function o(e){let{mealType:t,items:s,onRemoveItem:a}=e;if(!s||0===s.length)return(0,l.jsxs)("div",{className:"p-4 border rounded-lg mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold capitalize",children:t}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"No items added yet."})]});let r=s.reduce((e,t)=>e+t.calories,0),n=s.reduce((e,t)=>e+t.protein,0);return(0,l.jsxs)("div",{className:"p-4 border rounded-lg mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold capitalize mb-2",children:t}),(0,l.jsx)("ul",{className:"space-y-2 mb-2",children:s.map(e=>(0,l.jsxs)("li",{className:"flex justify-between items-center p-2 border-b",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium text-black",children:e.name}),(0,l.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:["(",e.calories," kcal, ",e.protein,"g protein)"]})]}),(0,l.jsx)("button",{onClick:()=>a(t,e.id),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]},e.id))}),(0,l.jsx)("div",{className:"text-right font-semibold text-black",children:(0,l.jsxs)("p",{children:["Total: ",r," kcal, ",n,"g protein"]})})]})}function c(e){let{currentLog:t}=e,s=(null==t?void 0:t.dailyTotals.calories)||0,a=(null==t?void 0:t.dailyTotals.protein)||0,n=r.calories-s,i=r.protein-a,o=s/r.calories*100,c=a/r.protein*100;return(0,l.jsxs)("div",{className:"p-4 border rounded-lg mb-6 bg-gray-50",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Daily Progress"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,l.jsx)("span",{className:"text-base font-medium text-blue-700",children:"Calories"}),(0,l.jsxs)("span",{className:"text-sm font-medium text-blue-700",children:[s," / ",r.calories," kcal"]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(Math.min(o,100),"%")}})}),n>0?(0,l.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[n," kcal remaining"]}):(0,l.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["Goal reached! ",-n," kcal over."]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,l.jsx)("span",{className:"text-base font-medium text-green-700",children:"Protein"}),(0,l.jsxs)("span",{className:"text-sm font-medium text-green-700",children:[a," / ",r.protein," g"]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,l.jsx)("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:"".concat(Math.min(c,100),"%")}})}),i>0?(0,l.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[i,"g protein remaining"]}):(0,l.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["Goal reached! ",-i,"g protein over."]})]})]})]})}var d=s(6874),m=s.n(d);let x=()=>new Date().toISOString().split("T")[0];function u(){let[e,t]=(0,a.useState)(x()),[s,r]=(0,a.useState)(null);(0,a.useEffect)(()=>{let t=(0,n._j)(e);t?r(t):r({date:e,meals:{breakfast:[],lunch:[],dinner:[],snacks:[]},dailyTotals:{calories:0,protein:0}})},[e]),(0,a.useEffect)(()=>{s&&(0,n.Lh)(s)},[s]);let d=e=>{let t=0,s=0;return Object.keys(e.meals).forEach(l=>{e.meals[l].forEach(e=>{t+=e.calories,s+=e.protein})}),{calories:t,protein:s}},u=(e,t)=>{if(!s)return;let l={...t,id:"".concat(e,"-").concat(new Date().getTime())},a={...s,meals:{...s.meals,[e]:[...s.meals[e],l]}};a.dailyTotals=d(a),r(a)},h=(e,t)=>{if(!s)return;let l={...s,meals:{...s.meals,[e]:s.meals[e].filter(e=>e.id!==t)}};l.dailyTotals=d(l),r(l)},g=s=>{let l=new Date(e);l.setDate(l.getDate()+s),t(l.toISOString().split("T")[0])};return(0,l.jsxs)("main",{className:"container mx-auto p-4",children:[(0,l.jsxs)("header",{className:"mb-6 text-center",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Calorie & Protein Tracker"}),(0,l.jsxs)("div",{className:"mt-2 flex justify-center items-center space-x-2",children:[(0,l.jsx)("button",{onClick:()=>g(-1),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Previous Day"}),(0,l.jsx)("p",{className:"text-xl text-gray-600",children:e}),(0,l.jsx)("button",{onClick:()=>g(1),disabled:e===x(),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 disabled:opacity-50",children:"Next Day"})]}),(0,l.jsx)(m(),{href:"/trends",className:"mt-4 inline-block text-blue-600 hover:text-blue-800 underline",children:"View Trends"})]}),(0,l.jsx)(c,{currentLog:s}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(i,{mealType:"breakfast",onAddItem:u}),(0,l.jsx)(o,{mealType:"breakfast",items:(null==s?void 0:s.meals.breakfast)||[],onRemoveItem:h})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(i,{mealType:"lunch",onAddItem:u}),(0,l.jsx)(o,{mealType:"lunch",items:(null==s?void 0:s.meals.lunch)||[],onRemoveItem:h})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(i,{mealType:"dinner",onAddItem:u}),(0,l.jsx)(o,{mealType:"dinner",items:(null==s?void 0:s.meals.dinner)||[],onRemoveItem:h})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(i,{mealType:"snacks",onAddItem:u}),(0,l.jsx)(o,{mealType:"snacks",items:(null==s?void 0:s.meals.snacks)||[],onRemoveItem:h})]})]})]})}},6976:(e,t,s)=>{"use strict";s.d(t,{Lh:()=>r,_j:()=>n,ic:()=>i});let l="calorieTracker_";function a(e){return"".concat(l).concat(e)}function r(e){try{localStorage.setItem(a(e.date),JSON.stringify(e))}catch(e){console.error("Error saving to local storage:",e)}}function n(e){try{let t=localStorage.getItem(a(e));return t?JSON.parse(t):null}catch(e){return console.error("Error reading from local storage:",e),null}}function i(){let e=[];try{for(let t=0;t<localStorage.length;t++){let s=localStorage.key(t);if(s&&s.startsWith(l)){let t=localStorage.getItem(s);t&&e.push(JSON.parse(t))}}return e.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())}catch(e){return console.error("Error reading all logs from local storage:",e),[]}}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(3505)),_N_E=e.O()}]);